(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b168d"],{2070:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-md-12"},[r("div",[t._m(0),r("form",{staticClass:"mt-4 w-100 clearfix"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"title"}},[t._v("Title :")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-control",attrs:{id:"title",required:"",type:"text",placeholder:"Enter title"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"content"}},[t._v("Image :")]),r("div",{staticClass:"custom-file"},[r("input",{ref:"file",staticClass:"custom-file-input",attrs:{type:"file"},on:{change:function(e){return t.handleFileUpload()}}}),r("label",{staticClass:"custom-file-label",attrs:{for:"validatedCustomFile"}},[t._v("Choose Image...")])])]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"topic"}},[t._v("Tpoc :")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.topic,expression:"form.topic"}],staticClass:"form-control",attrs:{id:"topic",required:"",type:"text",placeholder:"Enter title"},domProps:{value:t.form.topic},on:{input:function(e){e.target.composing||t.$set(t.form,"topic",e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"content"}},[t._v("Content :")]),r("mavon-editor",{ref:"md",attrs:{ishljs:!0,language:"en"},on:{save:t.save},model:{value:t.form.contentPreRender,callback:function(e){t.$set(t.form,"contentPreRender",e)},expression:"form.contentPreRender"}})],1),r("button",{staticClass:"btn btn-primary float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.submit(e)}}},[t.loading?r("span",[t._v("Loading...")]):r("span",[t._v("Submit your post")])])])])])])])},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h4",{staticClass:"font-weight-bold spanborder"},[r("span",[t._v("Write a new post")])])}],i=(r("96cf"),r("3b8d")),a=r("cebc"),s=r("2f62"),l=r("ef8b"),c={name:"CreatePost",data:function(){return{form:{title:"",contentPreRender:"",content:"",image:null,topic:"my topic"},loading:!1}},methods:Object(a["a"])({save:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,r){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.form.content=r;case 1:case"end":return t.stop()}},t,this)}));function e(e,r){return t.apply(this,arguments)}return e}(),handleFileUpload:function(){this.form.image=this.$refs.file.files[0]},submit:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,r,n,o,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:for(r in this.loading=!0,e=new FormData,this.form)"image"!=r&&e.append(r,this.form[r]);return this.form.image&&e.append("image",this.form.image,this.form.image.fileName),t.next=6,this.$post("posts/",e);case 6:n=t.sent,o=n.post_id,i=n.message,l["a"].$notify.success(i),this.$router.push({name:"show-post",params:{id:o}}),this.loading=!1;case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},Object(s["b"])("posts",["addPost"])),mounted:function(){l["a"].$notify.info("make sur you save your article on the editor before submiting")}},u=c,m=r("2877"),f=Object(m["a"])(u,n,o,!1,null,null,null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d0b168d.6af5867d.js.map